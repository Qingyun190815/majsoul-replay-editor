# 字典

Updated YYYY/MM/DD

善用 Ctrl + F 并查看文件目录, 每项下面的是在控制台查看对应内容的命令行

## avatar_id (头像)

`cfg.item_definition.skin.map_`

头像和所用角色是分开的, 不过在 main.js 中统一了

id 以 4 开头, 400000 和 400001 分别是女, 男角色的默认皮肤(背影)

##########

## charid (角色)

`cfg.item_definition.character.map_`

id 以 2 开头

##########

## item (views, 装扮等包括头像框在内的非常多的内容)

`cfg.item_definition.item.map_`

id 以 3 开头, 包含头像框在内的装扮, 此外还有礼物, 宝玉, 加载图等杂七杂八的没列出来

这部分对应牌谱里面 `views` 这一项, `"slot": 0` 之类也是这个意思

具体哪种装扮对应哪个 `"slot"` 可以使用命令行 `game.EView`

由于猫粮奇葩的管理导致id的使用很乱, 我这里直接分类, 而不是只按照 id 大小排序了

注意有部分内容是限定的或者测试用的, 乱用可能会导致封号

### 立直棒

**所在(牌谱信息文件的)"slot": 0**

##########

### 和牌特效

**所在 "slot": 1**

##########

### 立直特效

**所在 "slot": 2**

##########

### 鸣牌指示 (回放中无法展现)

**所在 "slot": 10**

##########

### 手的样式

**所在 "slot": 3**

##########

### 立直音乐 (回放中无法展现)

**所在 "slot": 4**

##########

### 头像框

**所在 "slot": 5**

##########

### 桌布 (与对局玩家无关)

**所在 "slot": 6**

##########

### 牌背 (与对局玩家无关)

**所在 "slot": 7**

##########

### 牌面 (与对局玩家无关)

**所在 "slot": 13**

##########

### 大厅背景 (与对局无关)

**所在 "slot": 8**

##########

### 大厅音乐 (与对局无关)

##########

### 对局音乐 (与对局无关)

##########

## title (称号)

`cfg.item_definition.title.map_`

对局及牌谱中, 不同服的玩家称号不会显示

id 以 6 开头, 而且有点乱, 很多都限时且无法获得, 乱用可能会封号

##########

## config (对局的模式)

两个命令行结果对比着出来的, 主要参考第一个, 感谢"姬萌萌"的作者 [Paulzzh](https://space.bilibili.com/73796753)

`cfg.desktop.matchmode.map_`

`cfg.game_live.select_filters.map_`

包含 category, mode_id, mode 的信息, 其他的都比较好理解

还有部分数据参考了这个网站: [定数一覧にゃ#ゲームメタモード](https://wikiwiki.jp/majsoul-api/%E5%AE%9A%E6%95%B0%E4%B8%80%E8%A6%A7%E3%81%AB%E3%82%83#bd8d1986)

目前规律是:

- category 的有效值只有 1, 2, 4, 分别表示 友人场, 匹配场, 比赛场
- mode_id 只有在 category 为 2 时才有效(其他值时默认为0)
- mode
    - 个位 0, 1, 2, 3 分别表示 一局战, 东风战, 半庄战, 人机战, 4 和 0 一样
    - 十位 0, 1 分别表示四麻, 三麻, 2 的话就是二人麻将(目前不推荐使用)

| category | mode_id | mode |  名称1  | 名称2  |      备注/特殊规则关键词       |
|:--------:|:-------:|:----:|:-----:|:----:|:---------------------:|
|    1     |    0    |  0   |  友人场  | 四人一局 |
|    1     |    0    |  1   |  友人场  | 四人东  |        该仓库默认使用        |
|    1     |    0    |  2   |  友人场  | 四人南  |
|    1     |    0    |  3   |  友人场  | 四人人机 |
|    1     |    0    |  4   |  友人场  | 四人一局 |
|    1     |    0    |  10  |  友人场  | 三人一局 |
|    1     |    0    |  11  |  友人场  | 三人东  |        该仓库默认使用        |
|    1     |    0    |  12  |  友人场  | 三人南  |
|    1     |    0    |  13  |  友人场  | 三人人机 |
|    1     |    0    |  14  |  友人场  | 三人一局 |
|    2     |    1    |  0   |  铜之间  | 四人一局 |
|    2     |    2    |  1   |  铜之间  | 四人东  |
|    2     |    3    |  2   |  铜之间  | 四人南  |
|    2     |    4    |  0   |  银之间  | 四人一局 |
|    2     |    5    |  1   |  银之间  | 四人东  |
|    2     |    6    |  2   |  银之间  | 四人南  |
|    2     |    7    |  0   |  金之间  | 四人一局 |
|    2     |    8    |  1   |  金之间  | 四人东  |
|    2     |    9    |  2   |  金之间  | 四人南  |
|    2     |   10    |  0   |  玉之间  | 四人一局 |
|    2     |   11    |  1   |  玉之间  | 四人东  |
|    2     |   12    |  2   |  玉之间  | 四人南  |
|    2     |   13    |  1   | 乱斗之间  | 四人东  |
|    2     |   14    |  2   | 乱斗之间  | 四人南  |
|    2     |   15    |  1   |  王座间  | 四人东  |
|    2     |   16    |  2   |  王座间  | 四人南  |
|    2     |   17    |  11  |  铜之间  | 三人东  |
|    2     |   18    |  12  |  铜之间  | 三人南  |
|    2     |   19    |  11  |  银之间  | 三人东  |
|    2     |   20    |  12  |  银之间  | 三人南  |
|    2     |   21    |  11  |  金之间  | 三人东  |
|    2     |   22    |  12  |  金之间  | 三人南  |
|    2     |   23    |  11  |  玉之间  | 三人东  |
|    2     |   24    |  12  |  玉之间  | 三人南  |
|    2     |   25    |  11  |  王座间  | 三人东  |
|    2     |   26    |  12  |  王座间  | 三人南  |      27, 28 没有信息      |
|    2     |   29    |  1   | 休闲普通场 | 四人东  |
|    2     |   30    |  2   | 休闲普通场 | 四人南  |
|    2     |   31    |  11  | 休闲普通场 | 三人东  |
|    2     |   32    |  12  | 休闲普通场 | 三人南  |
|    2     |   33    |  1   | 宝牌狂热  | 四人东  |     `dora3_mode`      |
|    2     |   34    |  1   | 配牌明牌  | 四人东  |   `begin_open_mode`   |
|    2     |   35    |  1   | 龙之目玉  | 四人东  |      `muyu_mode`      |
|    2     |   36    |  1   | 试炼之道  | 四人东  |
|    2     |   37    |  12  | 龙争虎斗  | 三人南  |
|    2     |   38    |  12  | 龙争虎斗  | 三人南  |
|    2     |   39    |  12  | 龙争虎斗  | 三人南  |
|    2     |   40    |  1   | 修罗之战  | 四人东  |    `xuezhandaodi`     |
|    2     |   41    |  1   | 赤羽之战  | 四人东  |       `chuanma`       |
|    2     |   42    |  1   |  活动场  | 四人东  |
|    2     |   43    |  1   |  活动场  | 四人东  |
|    2     |   44    |  1   | 明镜之战  | 四人东  |    `jiuchao_mode`     |
|    2     |   45    |  1   | 暗夜之战  | 四人东  |   `reveal_discard`    |
|    2     |   46    |  1   | 幻境传说  | 四人东  |  `field_spell_mode`   |
|    2     |   47    |  1   | 占星之战  | 四人东  |      `zhanxing`       |
|    2     |   48    |  1   | 天命之战  | 四人东  |    `tianming_mode`    |
|    2     |   49    |  1   | 咏唱之战  | 四人东  |   `yongchang_mode`    |
|    2     |   50    |  1   | 魂之一击  | 四人东  |   `hunzhiyiji_mode`   |
|    2     |   51    |  1   | 万象修罗  | 四人东  | `wanxiangxiuluo_mode` |
|    4     |    0    |  0   |  比赛场  | 四人一局 |
|    4     |    0    |  1   |  比赛场  | 四人东  |
|    4     |    0    |  2   |  比赛场  | 四人南  |
|    4     |    0    |  3   |  比赛场  | 四人人机 |
|    4     |    0    |  4   |  比赛场  | 四人一局 |
|    4     |    0    |  10  |  比赛场  | 三人一局 |
|    4     |    0    |  11  |  比赛场  | 三人东  |
|    4     |    0    |  12  |  比赛场  | 三人南  |
|    4     |    0    |  13  |  比赛场  | 三人人机 |
|    4     |    0    |  14  |  比赛场  | 三人一局 |

## level (段位制度)

`cfg.level_definition.level_definition.map_`

1开头的是四麻, 2开头的是三麻

| level_id |  名称  |
|:--------:|:----:|
|  10101   | 初心一星 |
|  10102   | 初心二星 |
|  10103   | 初心三星 |
|  10201   | 雀士一星 |
|  10202   | 雀士二星 |
|  10203   | 雀士三星 |
|  10301   | 雀杰一星 |
|  10302   | 雀杰二星 |
|  10303   | 雀杰三星 |
|  10401   | 雀豪一星 |
|  10402   | 雀豪二星 |
|  10403   | 雀豪三星 |
|  10501   | 雀圣一星 |
|  10502   | 雀圣二星 |
|  10503   | 雀圣三星 |
|  10601   | 旧魂天* |
|  107XX   | 新魂天  |
|          |      |
|  20101   | 初心一星 |
|  20102   | 初心二星 |
|  20103   | 初心三星 |
|  20201   | 雀士一星 |
|  20202   | 雀士二星 |
|  20203   | 雀士三星 |
|  20301   | 雀杰一星 |
|  20302   | 雀杰二星 |
|  20303   | 雀杰三星 |
|  20401   | 雀豪一星 |
|  20402   | 雀豪二星 |
|  20403   | 雀豪三星 |
|  20501   | 雀圣一星 |
|  20502   | 雀圣二星 |
|  20503   | 雀圣三星 |
|  20601   | 旧魂天* |
|  207XX   | 新魂天  |

*这个是2021/8/26之前魂珠制度还没实行的时候所用的魂天段位分, 在这之后用的都是7XX的, XX = 01~20, 代表20个魂天lv

## 役种一览

`cfg.fan.fan.map_`

1000 到 1021 之间是赤羽之战使用的番种

| fan_id |   名称    |     备注      |
|:------:|:-------:|:-----------:|
|   1    | 门前清自摸和  |
|   2    |   立直    |
|   3    |   枪杠    |
|   4    |  岭上开花   |
|   5    |  海底摸月   |
|   6    |  河底捞鱼   |
|   7    |  役牌 白   |
|   8    |  役牌 发   |
|   9    |  役牌 中   |
|   10   | 役牌:门风牌  |
|   11   | 役牌:场风牌  |
|   12   |   断幺九   |
|   13   |   一杯口   |
|   14   |   平和    |
|   15   |  混全带幺九  |
|   16   |  一气通贯   |
|   17   |  三色同顺   |
|   18   |   两立直   |
|   19   |  三色同刻   |
|   20   |   三杠子   |
|   21   |   对对和   |
|   22   |   三暗刻   |
|   23   |   小三元   |
|   24   |   混老头   |
|   25   |   七对子   |
|   26   |  纯全带幺九  |
|   27   |   混一色   |
|   28   |   二杯口   |
|   29   |   清一色   |
|   30   |   一发    |
|   31   |   宝牌    |
|   32   |   红宝牌   |
|   33   |   里宝牌   |
|   34   |  拔北宝牌   |
|   35   |   天和    |
|   36   |   地和    |
|   37   |   大三元   |
|   38   |   四暗刻   |
|   39   |   字一色   |
|   40   |   绿一色   |
|   41   |   清老头   |
|   42   |  国士无双   |
|   43   |   小四喜   |
|   44   |   四杠子   |
|   45   |  九莲宝灯   |
|   46   |   八连庄   |  未实装古役, 役满  |
|   47   | 纯正九莲宝灯  |
|   48   |  四暗刻单骑  |
|   49   | 国士无双十三面 |
|   50   |   大四喜   |
|   51   |   燕返    |   古役, 1番    |
|   52   |   杠振    |   古役, 1番    |
|   53   |  十二落抬   |   古役, 1番    |
|   54   |   五门齐   |   古役, 2番    |
|   55   |   三连刻   |   古役, 2番    |
|   56   |  一色三同顺  | 古役, 食下役, 3番 |
|   57   |  一筒摸月   |   古役, 满贯    |
|   58   |  九筒捞鱼   |   古役, 满贯    |
|   59   |   人和    |   古役, 役满    |
|   60   |   大车轮   |   古役, 役满    |
|   61   |   大竹林   |   古役, 役满    |
|   62   |   大数邻   |   古役, 役满    |
|   63   |  石上三年   |   古役, 役满    |
|   64   |   大七星   |  古役, 双倍役满   |
|   65   |   人和    |   满贯打点的版本   |
|  801   |    绯    |   咏唱之战使用    |
|  802   |    苍    |   咏唱之战使用    |
|  803   |   过载    | 魂之一击使用, 2番  |
|  804   |   立直    | 魂之一击使用, 2番  |
|  805   |   两立直   | 魂之一击使用, 3番  |
|  1000  |    根    | 赤羽之战使用, 下同  |
|  1001  |   杠上花   |
|  1002  |   杠上炮   |
|  1003  |   底和    |
|  1004  |   抢杠    |
|  1005  |   对对和   |
|  1006  |   清一色   |
|  1007  |   七对子   |
|  1008  |   带幺九   |
|  1009  |   金钩钓   |
|  1010  |   清对    |
|  1011  |   将对    |
|  1012  |   龙七对   |
|  1013  |   清七对   |
|  1014  |  清金钩钓   |
|  1015  |  清龙七对   |
|  1016  |  十八罗汉   |
|  1017  |  清十八罗汉  |
|  1018  |   天和    |
|  1019  |   地和    |
|  1020  |   清幺九   |
|  1021  |  海底捞月   |

## 其他杂项信息

### 查看高亮时刻所有类型勋章方法

在控制台输入

```js
{
    let a = [];
    cfg['achievement']['badge_group'].forEach(r =>
        a.push({
            'title': game['Tools']['strOfLocalization'](r.name),
            'content': game['Tools']['strOfLocalization'](r.desc)
        })
    );
    a
}
```

24年12月结果:

| 序号 |    名称     |                     内容                      |
|----|:---------:|:-------------------------------------------:|
| 1  | 完美对局(段位场) |           整场对局无放铳, 有4次满贯或更高番数的和牌            |
| 2  | 连胜之证(段位场) |  在东风或半庄对局中, 连续获得第1名5次(四人麻将/三人麻将的连胜次数独立统计)   |
| 3  | 大逆转(段位场)  |           和牌倍满以上后对局结束, 从最后一名变为第1名           |
| 4  | 役满之证(段位场) |                    和出役满                     |
| 5  | 超高分(段位场)  |             终局时, 所持点数超过100000点              |
|    |           |                                             |
| 6  | 完美对局(友人场) |    整场对局无放铳, 有4次满贯或更高番数的和牌(东风或半庄对局, 无电脑)     |
| 7  | 连胜之证(友人场) | 连续获得第1名5次(东风或半庄对局, 无电脑, 四人麻将/三人麻将的连胜次数独立统计) |
| 8  | 大逆转(友人场)  |    和牌倍满以上后对局结束, 从最后一名变为第1名(东风或半庄对局, 无电脑)    |
| 9  | 役满之证(友人场) |             和出役满(东风或半庄对局, 无电脑)              |
| 10 | 友尽局(友人场)  |       整局未放铳, 结束时获得最后一名(东风或半庄对局, 无电脑)        |
|    |           |                                             |
| 11 | 完美对局(活动场) |           整场对局无放铳, 有4次满贯或更高番数的和牌            |
| 12 | 连胜之证(活动场) |        连续获得第1名5次(四人麻将/三人麻将的连胜次数独立统计)        |
| 13 | 大逆转(活动场)  |           和牌倍满以上后对局结束, 从最后一名变为第1名           |
| 14 | 役满之证(活动场) |                    和出役满                     |
| 15 | 强力击飞(活动场) |           和牌后对局结束, 且有两名或以上其他玩家被击飞           |

### 国际中文服历届四象战所用看板角色服饰

| 四象战次别  |  看板角色服饰   | avatar_id |    备注    |
|:------:|:---------:|:---------:|:--------:|
|  第一届   |  辉夜姬-契约   |  402902   | 2020年11月 |
|  第二届   |  九条璃雨-契约  |  400802   | 2021年3月  |
|  第三届   | 北见纱和子-契约  |  402402   | 2021年7月  |
|  第四届   |   福姬-契约   |  403802   | 2021年11月 |
| 22年春季赛 |  艾丽莎-契约   |  403202   |
| 22年夏季赛 |  七海礼奈-契约  |  404402   |
| 22年秋季赛 |  泽克斯-契约   |  406002   |
| 22年冬季赛 |  抚子-细雪呈瑞  |  400604   |
| 23年春季赛 | 小鸟游雏田-契约* |  401902*  |
| 23年夏季赛 |     柚     |  405901   |
| 23年秋季赛 | 八木唯-魇魔之约  |  400704   |
| 23年冬季赛 |  一姬-新年初诣  |  400104   |
| 24年春季赛 | 五十岚阳菜-契约  |  402002   |
| 24年夏季赛 |    卡维     |  401001   |
| 24年秋季赛 |    岚星     |  407401   |
| 24年冬季赛 | 七海礼奈-白色礼赞 |  404403   |

*23年春季赛用的"小鸟游雏田-契约"与游戏中实际实装的有一定区别, 多了个wink表情,
详见 [官方动态](https://www.bilibili.com/opus/760899056348168246)

下面是我自己仿照动态拼接做的[立绘](pic/小鸟游雏田-契约-改.png)

![小鸟游雏田-契约-改](pic/小鸟游雏田-契约-改.png)

还有一个类似的改动是19年4月角色"藤田佳奈"的生日图, 详见 [官方动态](https://www.bilibili.com/opus/246917949025436769)

下面这个也是我自己仿照动态拼接做的[立绘](pic/藤田佳奈-改.png)

![藤田佳奈-改](pic/藤田佳奈-改.png)

此外, 2021年5月北斗战的宣传及视频封面是 pixiv id: [98623820](https://www.pixiv.net/artworks/98623820)

### 问卷: 目前雀魂就细节上还能优化的点(短期内能实现)

1. 查看每周轮换的活动场的队列
2. "役种一览"新增赤羽之战模式规则下特有的番种
3. 设置中实装默认屏蔽对局玩家的表情的功能按钮, 供有需要的玩家

### 问卷: 目前雀魂就对局上还能优化的点(短期内很难实现)

1. 人物立直, 胡牌专属动作(要看猫粮的3D动画师水平怎么样了, 就目前动态立绘所体现出的水平而言, 该项遥遥无期)
2. 对局内可以换装扮和人物(这可能涉及到了底层逻辑了, 因为从牌谱信息文件的格式我们知道对局玩家的信息整局都不会变,
   从匹配预约不允许换角色也能看出来, 当然也不是一点办法没有, 比如)
    - 将第一小局所用的人物和装扮作为"对局玩家的信息", 之后的小局"放开"随机, 但这样会导致在牌谱回放时, 整场对局只显示第一小局的人物和装扮

### 查询好友列表中玩家的 `account_id`

`uiscript.UI_Friend.Inst.page_friend.cells[0].account_id`

执行该脚本需要进入到好友列表界面, 其中下标0换成想要的查询的玩家的下标, 从上到下依次排列

同样的, 查看申请好友的玩家的是 `uiscript.UI_Friend.Inst.page_apply.playerinfos[0].account_id`

最近对局玩家的是 `uiscript.UI_Friend.Inst.page_recent.player_list[0].account_id`

以上操作都需要进入到对应界面, 否则会加载不出来报错 

### 查询任意已知 `account_id` 的玩家信息(像对局中查看其他玩家水表)

`uiscript.UI_PlayerInfo.Inst.show({accountId: ${ACCOUNT_ID}})`

把 `${ACCOUNT_ID}` 换成你要查询玩家的 `account_id`, 在控制台中输入, 就会像在对局中一样查看玩家信息

已经永封, 甚至已经注销的账号, 信息仍然可以查看

### 对局中玩家显示和牌字样

- 荣和: `uiscript.UI_Huleshow.Inst.showRong(allseats)`
- 自摸: `uiscript.UI_Huleshow.Inst.showZimo(allseats)`

其中 `allseats` 表示要和牌的玩家列表, 用数组表示, 如 `[0, 1, 2, 3]`
