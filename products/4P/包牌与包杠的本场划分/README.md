# 包牌与包杠的本场划分

包牌考虑: 大三元, 大四喜, 四杠子

包杠: 大明杠后岭上开花(可以连续岭上摸), 算被杠家放铳(所以有包杠一定是在自摸的情况下)

然后再考虑本场的划分, 分析会非常复杂

## 情况汇总

### 打点部分

| 序号 | 和牌方式 | 有无包牌 | 是否只有一家包牌 | 有无包杠 |                 结论                  |
|:--:|:----:|:----:|:--------:|:----:|:-----------------------------------:|
| 1  |  放铳  |  无   |    -     |  -   |                一般放铳                 |
| 2  |  自摸  |  无   |    -     |  无   |                一般自摸                 |
|    |      |      |          |      |                                     |
| 3  |  放铳  |  有   |   是/否    |  -   | 所有包牌家支付对应包牌一半点数, 包牌的另一半和非包牌部分由放铳家支付 |
| 4  |  自摸  |  有   |   是/否    |  无   |    所有包牌家支付对应包牌全部点数, 非包牌部分按照一般自摸     |
| 5  |  自摸  |  有   |   是/否    |  有   | 所有包牌家支付对应包牌一半点数, 包牌的另一半和非包牌部分由包杠家支付 |
|    |      |      |          |      |                                     |
| 6  |  自摸  |  无   |    -     |  有   |              包杠家支付全部点数              |

### 本场部分

示例牌谱: [template.js](template.js)

| 序号 | 和牌方式 | 有无包牌 | 是否只有一家包牌 | 是否只有包牌部分 | 有无包杠 |        结论         |
|:--:|:----:|:----:|:--------:|:--------:|:----:|:-----------------:|
| 1  |  放铳  |  无   |    -     |    -     |  -   |  一般放铳, 放铳家支付全部本场  |
| 2  |  自摸  |  无   |    -     |    -     |  无   |   一般自摸, 其他家均摊本场   |
|    |      |      |          |          |      |                   |
| 3  |  放铳  |  有   |   是/否    |   是/否    |  -   |  包牌放铳, 放铳家支付全部本场  |
| 4  |  自摸  | 有/无  |   是/否    |   是/否    |  有   |  包杠自摸, 包杠家支付全部本场  |
|    |      |      |          |          |      |                   |
| 5  |  自摸  |  有   |    是     |    是     |  无   | 一般包牌自摸, 包牌家支付全部本场 |
| 6  |  自摸  |  有   |    是     |    否     |  无   |  混合包牌自摸, 其他家均摊本场  |
|    |      |      |          |          |      |                   |
| 7  |  自摸  |  有   |    否     |    是     |  无   | 一般多家包牌自摸, 其他家均摊本场 |
| 8  |  自摸  |  有   |    否     |    否     |  无   |  复合包牌自摸, 其他家均摊本场  |

